<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.empresa.fichador.controller.GestionController"
            fitToWidth="true" fitToHeight="true" style="-fx-background-color: #f1f5f9;">
    <VBox spacing="25" style="-fx-background-color: #f1f5f9;">
        <padding><Insets top="30" right="35" bottom="30" left="35"/></padding>

        <HBox alignment="CENTER_LEFT" spacing="15">
            <Label text="ðŸ“‹" style="-fx-font-size: 32px;"/>
            <VBox spacing="3">
                <Label text="GestiÃ³n de Fichajes" style="-fx-font-size: 26px; -fx-font-weight: 800; -fx-text-fill: #1e293b;"/>
                <Label text="Consulta los registros de asistencia" style="-fx-font-size: 14px; -fx-text-fill: #64748b;"/>
            </VBox>
        </HBox>

        <HBox spacing="20" alignment="CENTER_LEFT" styleClass="card" style="-fx-padding: 20;">
            <VBox spacing="8">
                <Label text="ðŸ“… Fecha" style="-fx-font-size: 13px; -fx-font-weight: 700;"/>
                <DatePicker fx:id="datePicker" prefWidth="180"/>
            </VBox>
            <VBox spacing="8">
                <Label text="ðŸ‘¤ Trabajador" style="-fx-font-size: 13px; -fx-font-weight: 700;"/>
                <ComboBox fx:id="comboTrabajador" prefWidth="220" promptText="Todos"/>
            </VBox>
            <VBox spacing="8">
                <Label text="ðŸ¢ Departamento" style="-fx-font-size: 13px; -fx-font-weight: 700;"/>
                <ComboBox fx:id="comboDepartamento" prefWidth="180" promptText="Todos"/>
            </VBox>
            <Region HBox.hgrow="ALWAYS"/>
            <HBox spacing="10" alignment="CENTER">
                <Button text="ðŸ” Buscar" onAction="#handleBuscar" styleClass="btn-primary"/>
                <Button text="ðŸ”„ Limpiar" onAction="#handleLimpiar" styleClass="btn-secondary"/>
            </HBox>
        </HBox>

        <HBox spacing="20">
            <VBox HBox.hgrow="ALWAYS" styleClass="card" spacing="5">
                <Label text="ðŸ“Š Total" style="-fx-font-size: 14px; -fx-text-fill: #64748b;"/>
                <Label fx:id="lblTotalFichajes" text="0" style="-fx-font-size: 32px; -fx-font-weight: 800; -fx-text-fill: #6366f1;"/>
            </VBox>
            <VBox HBox.hgrow="ALWAYS" styleClass="card" spacing="5">
                <Label text="â¬‡ï¸ Entradas" style="-fx-font-size: 14px; -fx-text-fill: #64748b;"/>
                <Label fx:id="lblTotalEntradas" text="0" style="-fx-font-size: 32px; -fx-font-weight: 800; -fx-text-fill: #10b981;"/>
            </VBox>
            <VBox HBox.hgrow="ALWAYS" styleClass="card" spacing="5">
                <Label text="â¬†ï¸ Salidas" style="-fx-font-size: 14px; -fx-text-fill: #64748b;"/>
                <Label fx:id="lblTotalSalidas" text="0" style="-fx-font-size: 32px; -fx-font-weight: 800; -fx-text-fill: #ef4444;"/>
            </VBox>
            <VBox HBox.hgrow="ALWAYS" styleClass="card" spacing="5">
                <Label text="â±ï¸ Horas" style="-fx-font-size: 14px; -fx-text-fill: #64748b;"/>
                <Label fx:id="lblTotalHoras" text="0h" style="-fx-font-size: 32px; -fx-font-weight: 800; -fx-text-fill: #f59e0b;"/>
            </VBox>
        </HBox>

        <VBox VBox.vgrow="ALWAYS" styleClass="card" spacing="15">
            <HBox alignment="CENTER_LEFT" spacing="15">
                <Label text="ðŸ“ Registros" style="-fx-font-size: 18px; -fx-font-weight: 700; -fx-text-fill: #1e293b;"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="ðŸ“¤ Exportar" onAction="#handleExportar" styleClass="btn-primary"/>
            </HBox>
            <TableView fx:id="tableFichajes" VBox.vgrow="ALWAYS" minHeight="300">
                <columns>
                    <TableColumn fx:id="colTrabajador" text="ðŸ‘¤ Trabajador" prefWidth="200"/>
                    <TableColumn fx:id="colDepartamento" text="ðŸ¢ Depto." prefWidth="130"/>
                    <TableColumn fx:id="colFecha" text="ðŸ“… Fecha" prefWidth="110"/>
                    <TableColumn fx:id="colEntrada" text="â¬‡ï¸ Entrada" prefWidth="100"/>
                    <TableColumn fx:id="colSalida" text="â¬†ï¸ Salida" prefWidth="100"/>
                    <TableColumn fx:id="colTotalHoras" text="â±ï¸ Horas" prefWidth="90"/>
                    <TableColumn fx:id="colClima" text="ðŸŒ¤ï¸ Clima" prefWidth="140"/>
                    <TableColumn fx:id="colTemperatura" text="ðŸŒ¡ï¸" prefWidth="70"/>
                    <TableColumn fx:id="colAcciones" text="âš™ï¸" prefWidth="70"/>
                </columns>
            </TableView>
        </VBox>
    </VBox>
</ScrollPane>

